
<div class="panel panel-primary">
    <div class="panel-heading">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" (click)="closeWindow()">&times;</button>
        <h3 class="panel-title">Создание нового счета</h3>

    </div>
    <div class="panel-body">

        <div class="col-lg-9">
            <div class="row">
                <!--For counters Datas-->
                <div class="col-lg-6">
                    <label class="control-label" for="maintenanceData">Показания по счетчикам</label>
                    <div class="list-group" >

                        <template ngFor let-countData [ngForOf]="counterDatas">
                            <a class="list-group-item" (click)="editCounterData(countData)">
                                <img width="30" height="30" [src]="countData.IconPath" />
                                {{countData.CounterName}}
                                <h4 class="pull-right">{{countData.Reading}}</h4>
                            </a>
                        </template>

                    </div>
                </div>

                <!--For maintenance Datas-->
                <div class="col-lg-6">
                    <label class="control-label" for="maintenanceData">Показания по услугам</label>
                    <div class="list-group">

                        <template ngFor let-maintData [ngForOf]="maintenanceDatas">
                            <a class="list-group-item" >
                                <img width="30" height="30" [src]="maintData.IconPath" />
                                {{maintData.MaintenanceName}}
                                <h4 class="pull-right">{{maintData.Cost}}</h4>
                            </a>
                        </template>

                    </div>
                </div>
            </div>
            
        </div>

        <!--column for bill values-->
        <div class="col-lg-3" *ngIf="currentBill">
            
            <div class="form-group">
                <label class="control-label" for="date">Дата</label>
                <ul class="nav nav-pills">
                    <li>
                        <select class="form-control" name="month" [(ngModel)]="currentBill.InvoiceDateMonth" type="text" required>
                            <option *ngFor="let month of allMonthes" [value]="month.Id">{{month.Name}}</option>
                        </select>
                    </li>
                    <li>
                        <select class="form-control" name="yearForBill" [(ngModel)]="currentBill.InvoiceDateYear" type="text" required>
                            <option *ngFor="let year of allYears" [value]="year">{{year}}</option>
                        </select>
                    </li>
                </ul>
            </div>
            <div class="form-group">
                <label class="control-label" for="commonSum">Начислено</label>
                <input class="form-control" name="commonSum" type="text" readonly="readonly">
            </div>

            <div class="form-group">
                <label class="control-label" for="recalculation">Перерасчет</label>
                <input class="form-control" name="recalculation" type="text" [(ngModel)]="currentBill.Recalculation" pattern="^(?:[1-9]\d*|0)?(?:\.\d+)?$">
            </div>

            <div class="form-group">
                <label class="control-label" for="fine">Пени</label>
                <input class="form-control" name="fine" type="text" [(ngModel)]="currentBill.Fine" pattern="^(?:[1-9]\d*|0)?(?:\.\d+)?$">
            </div>

            <div class="form-group">
                <label class="control-label" for="forPay">К оплате</label>
                <input class="form-control" name="forPay" type="text" readonly="readonly">
            </div>

            <div class="form-group">
                <label class="control-label" for="comment" >Комментарий</label>
                <input class="form-control" name="comment" type="text" [(ngModel)]="currentBill.Comment">
            </div>
        </div>

        <!--Save button-->
        <div class="row">
            <div class="col-lg-2 col-lg-offset-5">
                <a class="btn btn-success" (click)="saveBill()" >Сохранить</a>
            </div>
        </div>

    </div>
</div>


